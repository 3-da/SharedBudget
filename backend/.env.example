# ============================================
# SharedBudget - Backend Environment Variables
# ============================================
# Copy this file to .env and fill in real values.

# ---------- App ----------
NODE_ENV=development
PORT=3000
API_PREFIX=api/v1
CORS_ORIGIN=http://localhost:4200
FRONTEND_URL=http://localhost:4200

# ---------- PostgreSQL ----------
DB_HOST=localhost
DB_PORT=5432
DB_NAME=sharedbudget
DB_USER=sharedbudget
DB_PASSWORD=<your-db-password>
DATABASE_URL=postgresql://<DB_USER>:<DB_PASSWORD>@<DB_HOST>:<DB_PORT>/<DB_NAME>?schema=public

# ---------- Redis ----------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=<your-redis-password>

# ---------- JWT ----------
# Generate strong secrets: node -e "console.log(require('crypto').randomBytes(48).toString('base64'))"
JWT_ACCESS_SECRET=<generate-a-strong-secret-min-32-chars>
JWT_ACCESS_EXPIRATION=15m
JWT_REFRESH_SECRET=<generate-a-different-strong-secret-min-32-chars>
JWT_REFRESH_EXPIRATION=604800

# ---------- Auth TTLs (seconds) ----------
AUTH_VERIFICATION_CODE_TTL=600
AUTH_REFRESH_TOKEN_TTL=604800
AUTH_RESET_TOKEN_TTL=3600

# ---------- Argon2 (password hashing) ----------
# Recommended: memory 64MB (65536 KB), 3 iterations, 1 parallelism
ARGON2_MEMORY_COST=65536
ARGON2_TIME_COST=3
ARGON2_PARALLELISM=1

# ---------- Cache TTLs (seconds) ----------
CACHE_TTL_SALARIES=300
CACHE_TTL_SUMMARY=120
CACHE_TTL_EXPENSES=60
CACHE_TTL_SETTLEMENT=120

# ---------- Household ----------
HOUSEHOLD_MAX_MEMBERS=2
INVITE_CODE_LENGTH=8

# ---------- Swagger (optional — blocks /docs in production) ----------
SWAGGER_USER=admin
SWAGGER_PASSWORD=<generate-strong-password>

# ---------- Email (Resend) ----------
# Get your API key at https://resend.com → API Keys
# Leave empty to log emails to console instead of sending (dev mode)
RESEND_API_KEY=
MAIL_FROM=SharedBudget <onboarding@resend.dev>
